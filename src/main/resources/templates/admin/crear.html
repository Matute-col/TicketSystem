<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout(~{::title}, ~{::body})}">

<head>
    <title>Crear o Editar Usuario</title>
</head>

<body>
<div class="container mt-5">
    <h2 th:text="${usuario.id == null} ? 'Crear Nuevo Usuario' : 'Editar Usuario'">Formulario</h2>

    <form th:action="@{/admin/usuarios/guardar}"
          th:object="${usuario}"
          method="post"
          class="row g-3"
          autocomplete="off">

        <!-- 游녢 Campo oculto para enviar el ID cuando es edici칩n -->
        <input type="hidden" th:field="*{id}" />

        <div class="col-md-6">
            <label for="nombre" class="form-label">Nombre</label>
            <input type="text"
                   id="nombre"
                   th:field="*{nombre}"
                   class="form-control"
                   required
                   autocomplete="off">
        </div>

        <div class="col-md-6">
            <label for="correo" class="form-label">Correo</label>
            <input type="email"
                   id="correo"
                   th:field="*{correo}"
                   class="form-control"
                   required
                   autocomplete="off">
        </div>

        <div class="col-md-6">
            <label for="contrase침a" class="form-label">Contrase침a</label>
            <input type="password"
                   id="contrase침a"
                   th:field="*{contrase침a}"
                   class="form-control"
                   required
                   autocomplete="new-password">
        </div>

        <div class="col-md-6">
            <label for="rol" class="form-label">Rol</label>
            <select id="rol"
                    th:field="*{rol}"
                    class="form-select"
                    required>
                <option value="" disabled>Selecciona un rol</option>
                <option value="USUARIO">Usuario</option>
                <option value="INFORMATICO">Inform치tico</option>
                <option value="ADMINISTRADOR">Administrador</option>
            </select>
        </div>

        <div class="col-12 mt-3 d-flex justify-content-between">
            <a th:href="@{/admin/usuarios}" class="btn btn-secondary">Cancelar</a>
            <button type="submit" class="btn btn-primary">Guardar</button>
        </div>
    </form>
</div>
</body>
</html>